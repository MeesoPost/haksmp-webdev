<!-- Wait for components to be ready before showing content -->
<div id="utrecht-wrapper" style="opacity: 0; transition: opacity 0.3s ease;">
  <slot />
</div>

<script>
  import { defineCustomElements } from '@utrecht/web-component-library-stencil/loader';
  
  // Initialize Utrecht components immediately
  try {
    defineCustomElements();
    console.log('Utrecht web components loaded and defined');
    
    // Small delay to let components register
    setTimeout(() => {
      const wrapper = document.getElementById('utrecht-wrapper');
      if (wrapper) {
        wrapper.style.opacity = '1';
      }
      
      // Dispatch ready event
      document.dispatchEvent(new CustomEvent('utrecht-ready'));
    }, 100);
    
  } catch (error) {
    console.error('Failed to load Utrecht components:', error);
    // Show content anyway to prevent blank page
    const wrapper = document.getElementById('utrecht-wrapper');
    if (wrapper) {
      wrapper.style.opacity = '1';
    }
  }
</script>